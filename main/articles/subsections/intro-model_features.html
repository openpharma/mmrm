<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="mmrm">
<title> • mmrm</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<script src="../../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../../pkgdown.js"></script><meta property="og:title" content="">
<meta property="og:description" content="mmrm">
<meta property="og:image" content="https://openpharma.github.io/mmrm/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-125641273-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-125641273-1');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../../index.html">mmrm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2.9039</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../../articles/algorithm.html">Details of the Model Fitting in `mmrm`</a>
    <a class="dropdown-item" href="../../articles/between_within.html">Between-within degrees of freedom</a>
    <a class="dropdown-item" href="../../articles/coef_vcov.html">Coefficients Covariance Matrix Adjustment in `mmrm`</a>
    <a class="dropdown-item" href="../../articles/covariance.html">Covariance Structures in `mmrm`</a>
    <a class="dropdown-item" href="../../articles/empirical_wls.html">Weighted Least Square Empirical Covariance</a>
    <a class="dropdown-item" href="../../articles/introduction.html">Introduction to `mmrm`</a>
    <a class="dropdown-item" href="../../articles/kenward.html">Details of the Kenward-Roger calculations</a>
    <a class="dropdown-item" href="../../articles/methodological_introduction.html">What are MMRMs? A brief introduction</a>
    <a class="dropdown-item" href="../../articles/mmrm_review_methods.html">Implementations of MMRM: a comparison of what's available</a>
    <a class="dropdown-item" href="../../articles/package_structure.html">Package Structure</a>
    <a class="dropdown-item" href="../../articles/predict.html">Predicting from a MMRM</a>
    <a class="dropdown-item" href="../../articles/satterthwaite.html">Details of the Satterthwaite calculations</a>
    <a class="dropdown-item" href="../../articles/subsections/intro-acknowledgments.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../../articles/subsections/intro-customizations.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../../articles/subsections/intro-getting_started.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../../articles/subsections/intro-hypothesis_testing.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../../articles/subsections/intro-lower_level.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../../articles/subsections/intro-model_features.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../../articles/subsections/intro-tidymodels.html">UNKNOWN TITLE</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../../news/index.html">Changelog</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-reports">Reports</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-reports">
    <a class="dropdown-item" href="../../coverage-report/">Coverage report</a>
    <a class="dropdown-item" href="../../unit-test-report/">Unit test report</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/openpharma/mmrm">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../../logo.svg" class="logo" alt=""><h1></h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/openpharma/mmrm/blob/HEAD/vignettes/subsections/intro-model_features.Rmd" class="external-link"><code>vignettes/subsections/intro-model_features.Rmd</code></a></small>
      <div class="d-none name"><code>intro-model_features.Rmd</code></div>
    </div>

    
    
<p>Similar to model objects created in other packages, components of
<code>mmrm</code> and <code>mmrm_tmb</code> objects can be accessed with
standard methods. Additionally, <a href="https://openpharma.github.io/mmrm/main/reference/component.html"><code>component()</code></a>
is provided to allow deeper and more precise access for those interested
in digging through model output. Complete documentation of standard
model output methods supported for <code>mmrm_tmb</code> objects <a href="https://openpharma.github.io/mmrm/main/reference/mmrm_tmb_methods.html">can
be found at the package website.</a></p>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<p>The <code>summary</code> method for <code>mmrm</code> objects
provides easy access to frequently needed model components.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/mmrm.html">mmrm</a></span><span class="op">(</span></span>
<span>  formula <span class="op">=</span> <span class="va">FEV1</span> <span class="op">~</span> <span class="va">RACE</span> <span class="op">+</span> <span class="va">ARMCD</span> <span class="op">*</span> <span class="va">AVISIT</span> <span class="op">+</span> <span class="fu">us</span><span class="op">(</span><span class="va">AVISIT</span> <span class="op">|</span> <span class="va">USUBJID</span><span class="op">)</span>,</span>
<span>  data <span class="op">=</span> <span class="va">fev_data</span></span>
<span><span class="op">)</span></span>
<span><span class="va">fit_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span></code></pre></div>
<p>From this summary object, you can easily retrieve the coefficients
table.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit_summary</span><span class="op">$</span><span class="va">coefficients</span></span></code></pre></div>
<pre><code><span><span class="co">##                                  Estimate Std. Error       df     t value</span></span>
<span><span class="co">## (Intercept)                   30.96769899  0.8293349 187.9132 37.34040185</span></span>
<span><span class="co">## RACEBlack or African American  1.50464863  0.6206596 169.9454  2.42427360</span></span>
<span><span class="co">## RACEWhite                      5.61309565  0.6630909 158.8700  8.46504747</span></span>
<span><span class="co">## ARMCDTRT                       3.77555734  1.0762774 146.2690  3.50797778</span></span>
<span><span class="co">## AVISITVIS2                     4.82858803  0.8017144 143.6593  6.02282805</span></span>
<span><span class="co">## AVISITVIS3                    10.33317002  0.8224414 155.6572 12.56401918</span></span>
<span><span class="co">## AVISITVIS4                    15.05255715  1.3128602 138.3916 11.46546844</span></span>
<span><span class="co">## ARMCDTRT:AVISITVIS2           -0.01737409  1.1291645 138.3926 -0.01538668</span></span>
<span><span class="co">## ARMCDTRT:AVISITVIS3           -0.66753189  1.1865359 158.2106 -0.56258887</span></span>
<span><span class="co">## ARMCDTRT:AVISITVIS4            0.63094392  1.8507884 129.6377  0.34090549</span></span>
<span><span class="co">##                                   Pr(&gt;|t|)</span></span>
<span><span class="co">## (Intercept)                   7.122411e-89</span></span>
<span><span class="co">## RACEBlack or African American 1.638725e-02</span></span>
<span><span class="co">## RACEWhite                     1.605553e-14</span></span>
<span><span class="co">## ARMCDTRT                      6.001485e-04</span></span>
<span><span class="co">## AVISITVIS2                    1.366921e-08</span></span>
<span><span class="co">## AVISITVIS3                    1.927523e-25</span></span>
<span><span class="co">## AVISITVIS4                    8.242709e-22</span></span>
<span><span class="co">## ARMCDTRT:AVISITVIS2           9.877459e-01</span></span>
<span><span class="co">## ARMCDTRT:AVISITVIS3           5.745112e-01</span></span>
<span><span class="co">## ARMCDTRT:AVISITVIS4           7.337266e-01</span></span></code></pre>
<p>Other model parameters and metadata available in the summary object
is as follows:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">fit_summary</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## List of 15</span></span>
<span><span class="co">##  $ cov_type        : chr "us"</span></span>
<span><span class="co">##  $ reml            : logi TRUE</span></span>
<span><span class="co">##  $ n_groups        : int 1</span></span>
<span><span class="co">##  $ n_theta         : int 10</span></span>
<span><span class="co">##  $ n_subjects      : int 197</span></span>
<span><span class="co">##  $ n_timepoints    : int 4</span></span>
<span><span class="co">##  $ n_obs           : int 537</span></span>
<span><span class="co">##  $ beta_vcov       : num [1:10, 1:10] 0.688 -0.207 -0.163 -0.569 -0.422 ...</span></span>
<span><span class="co">##   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">##   .. ..$ : chr [1:10] "(Intercept)" "RACEBlack or African American" "RACEWhite" "ARMCDTRT" ...</span></span>
<span><span class="co">##   .. ..$ : chr [1:10] "(Intercept)" "RACEBlack or African American" "RACEWhite" "ARMCDTRT" ...</span></span>
<span><span class="co">##  $ varcor          : num [1:4, 1:4] 40.73 14.27 5.14 13.53 14.27 ...</span></span>
<span><span class="co">##   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">##   .. ..$ : chr [1:4] "VIS1" "VIS2" "VIS3" "VIS4"</span></span>
<span><span class="co">##   .. ..$ : chr [1:4] "VIS1" "VIS2" "VIS3" "VIS4"</span></span>
<span><span class="co">##  $ method          : chr "Satterthwaite"</span></span>
<span><span class="co">##  $ vcov            : chr "Asymptotic"</span></span>
<span><span class="co">##  $ coefficients    : num [1:10, 1:5] 30.97 1.5 5.61 3.78 4.83 ...</span></span>
<span><span class="co">##   ..- attr(*, "dimnames")=List of 2</span></span>
<span><span class="co">##   .. ..$ : chr [1:10] "(Intercept)" "RACEBlack or African American" "RACEWhite" "ARMCDTRT" ...</span></span>
<span><span class="co">##   .. ..$ : chr [1:5] "Estimate" "Std. Error" "df" "t value" ...</span></span>
<span><span class="co">##  $ n_singular_coefs: int 0</span></span>
<span><span class="co">##  $ aic_list        :List of 4</span></span>
<span><span class="co">##   ..$ AIC     : num 3407</span></span>
<span><span class="co">##   ..$ BIC     : num 3440</span></span>
<span><span class="co">##   ..$ logLik  : num -1694</span></span>
<span><span class="co">##   ..$ deviance: num 3387</span></span>
<span><span class="co">##  $ call            : language mmrm(formula = FEV1 ~ RACE + ARMCD * AVISIT + us(AVISIT | USUBJID), data = fev_data)</span></span>
<span><span class="co">##  - attr(*, "class")= chr "summary.mmrm"</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="residuals">Residuals<a class="anchor" aria-label="anchor" href="#residuals"></a>
</h2>
<p>The <code>residuals</code> method for <code>mmrm</code> objects can
be used to provide three different types of residuals:</p>
<ol style="list-style-type: decimal">
<li>Response or raw residuals - the difference between the observed and
fitted or predicted value. MMRMs can allow for heteroscedasticity, so
these residuals should be interpreted with caution.</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/mmrm.html">mmrm</a></span><span class="op">(</span></span>
<span>  formula <span class="op">=</span> <span class="va">FEV1</span> <span class="op">~</span> <span class="va">RACE</span> <span class="op">+</span> <span class="va">ARMCD</span> <span class="op">*</span> <span class="va">AVISIT</span> <span class="op">+</span> <span class="fu">us</span><span class="op">(</span><span class="va">AVISIT</span> <span class="op">|</span> <span class="va">USUBJID</span><span class="op">)</span>,</span>
<span>  data <span class="op">=</span> <span class="va">fev_data</span></span>
<span><span class="op">)</span></span>
<span><span class="va">residuals_resp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/residuals.html" class="external-link">residuals</a></span><span class="op">(</span><span class="va">fit</span>, type <span class="op">=</span> <span class="st">"response"</span><span class="op">)</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Pearson residuals - the raw residuals scaled by the estimated
standard deviation of the response. This residual type is better suited
to identifying outlying observations and the appropriateness of the
covariance structure, compared to the raw residuals.</li>
</ol>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">residuals_pearson</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/residuals.html" class="external-link">residuals</a></span><span class="op">(</span><span class="va">fit</span>, type <span class="op">=</span> <span class="st">"pearson"</span><span class="op">)</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Normalized or scaled residuals - the raw residuals are
‘de-correlated’ based on the Cholesky decomposition of the
variance-covariance matrix. These residuals should approximately follow
the standard normal distribution, and therefore can be used to check for
normality (<span class="citation">@galecki2013linear</span>).</li>
</ol>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">residuals_norm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/residuals.html" class="external-link">residuals</a></span><span class="op">(</span><span class="va">fit</span>, type <span class="op">=</span> <span class="st">"normalized"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="other-components">Other components<a class="anchor" aria-label="anchor" href="#other-components"></a>
</h2>
<p>Specific model quantities not supported by methods can be retrieved
with the <a href="https://openpharma.github.io/mmrm/main/reference/component.html"><code>component()</code></a>
function. The default will output all supported components.</p>
<p>For example, a user may want information about convergence:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/component.html">component</a></span><span class="op">(</span><span class="va">fit</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"convergence"</span>, <span class="st">"evaluations"</span>, <span class="st">"conv_message"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $convergence</span></span>
<span><span class="co">## [1] 0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $evaluations</span></span>
<span><span class="co">## function gradient </span></span>
<span><span class="co">##       17       17 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $conv_message</span></span>
<span><span class="co">## [1] "CONVERGENCE: REL_REDUCTION_OF_F &lt;= FACTR*EPSMCH"</span></span></code></pre>
<p>or the original low-level call:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/component.html">component</a></span><span class="op">(</span><span class="va">fit</span>, name <span class="op">=</span> <span class="st">"call"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## mmrm(formula = FEV1 ~ RACE + ARMCD * AVISIT + us(AVISIT | USUBJID), </span></span>
<span><span class="co">##     data = fev_data)</span></span></code></pre>
<p>the user could also ask for all provided components by not specifying
the <code>name</code> argument.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/component.html">component</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Daniel Sabanes Bove, Julia Dedic, Doug Kelkhoff, Kevin Kunzmann, Brian Matthew Lang, Liming Li, Christian Stock, Ya Wang, Dan James, Jonathan Sidi, Daniel D. Sjoberg, Boehringer Ingelheim Ltd., Gilead Sciences, Inc., F. Hoffmann-La Roche AG, Merck Sharp &amp; Dohme, Inc., AstraZeneca plc.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
