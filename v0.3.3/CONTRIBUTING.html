<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Contributing • mmrm</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png"><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Contributing"><meta property="og:image" content="https://openpharma.github.io/mmrm/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-125641273-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-125641273-1');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">mmrm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Introduction</h6>
    <a class="dropdown-item" href="articles/introduction.html">Package Introduction</a>
    <a class="dropdown-item" href="articles/methodological_introduction.html">Mixed Models for Repeated Measures</a>
    <a class="dropdown-item" href="articles/mmrm_review_methods.html">Comparison with other software</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Covariance Structures</h6>
    <a class="dropdown-item" href="articles/covariance.html">Covariance Structures</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Degrees of Freedom</h6>
    <a class="dropdown-item" href="articles/between_within.html">Between-Within</a>
    <a class="dropdown-item" href="articles/kenward.html">Kenward-Roger</a>
    <a class="dropdown-item" href="articles/satterthwaite.html">Satterthwaite</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Coefficient Covariance</h6>
    <a class="dropdown-item" href="articles/coef_vcov.html">Coefficients Covariance Matrix Adjustment</a>
    <a class="dropdown-item" href="articles/empirical_wls.html">Details of Weighted Least Square Empirical Covariance</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Algorithm Details</h6>
    <a class="dropdown-item" href="articles/algorithm.html">Model Fitting Algorithm</a>
    <a class="dropdown-item" href="articles/predict.html">Prediction and Simulation</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Developers</h6>
    <a class="dropdown-item" href="articles/package_structure.html">Package Structure</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
<!-- start dropdown for versions --> <li class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle"
          data-bs-toggle="dropdown" role="button"
          aria-expanded="false" aria-haspopup="true"
          id="dropdown-versions">Versions</a> <div class="dropdown-menu" aria-labelledby="dropdown-versions"> <a class="dropdown-item" data-toggle="tooltip" title="" href="https://openpharma.github.io/mmrm/latest-tag">latest-tag</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://openpharma.github.io/mmrm/main">main</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://openpharma.github.io/mmrm/v0.3.10">v0.3.10</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://openpharma.github.io/mmrm/v0.3.7">v0.3.7</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://openpharma.github.io/mmrm/v0.3.6">v0.3.6</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://openpharma.github.io/mmrm/v0.3.5">v0.3.5</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://openpharma.github.io/mmrm/v0.3.4">v0.3.4</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://openpharma.github.io/mmrm/v0.3.3">v0.3.3</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://openpharma.github.io/mmrm/v0.3.2">v0.3.2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://openpharma.github.io/mmrm/v0.3.1">v0.3.1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://openpharma.github.io/mmrm/v0.3.0">v0.3.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://openpharma.github.io/mmrm/v0.2.2">v0.2.2</a> </div></li>
<!-- end dropdown for versions -->
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-reports">Reports</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-reports">
    <a class="dropdown-item" href="coverage-report/">Coverage report</a>
    <a class="dropdown-item" href="unit-test-report/">Unit test report</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/openpharma/mmrm">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="logo.svg" class="logo" alt=""><h1>Contributing</h1>
      <small class="dont-index">Source: <a href="https://github.com/openpharma/mmrm/blob/HEAD/.github/CONTRIBUTING.md" class="external-link"><code>.github/CONTRIBUTING.md</code></a></small>
    </div>

<div id="contributing" class="section level1">

<p>Thank you for your interest in contributing to this repo! Your contribution is highly valued. Please go through this document for guidance on how to contribute.</p>
<div class="section level2">
<h2 id="programming-conventions">Programming conventions<a class="anchor" aria-label="anchor" href="#programming-conventions"></a></h2>
<p>Please follow the programming conventions to ensure a consistent programming style across the package.</p>
<p>Generally we follow the <a href="https://style.tidyverse.org/" class="external-link">tidyverse style guide</a>. Some specific conventions that deviate from this are explained below.</p>
<div class="section level3">
<h3 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h3>
<ol style="list-style-type: decimal"><li>Function names should be explicit and clear. Words should be separated by underscore (<code>snake_case</code>).</li>
<li>Functions starting with <code>h_</code> are helper functions and they should not be exported.</li>
<li>Functions should be well documented using <code>roxygen2</code> (even when they are not exported).</li>
<li>Functions must be unit tested (even when they are not exported).</li>
</ol></div>
<div class="section level3">
<h3 id="imports">Imports<a class="anchor" aria-label="anchor" href="#imports"></a></h3>
<p>In package <code>mmrm</code>, we follow the following convention in package imports.</p>
<ol style="list-style-type: decimal"><li>When only a few functions from another package are needed:
<ol style="list-style-type: decimal"><li>In <code>DESCRIPTION</code>, add that package into <code>Imports</code>.</li>
<li>In <code>mmrm-package.R</code>, we add a <code>importFrom</code> with a single function from the package.
<ol style="list-style-type: decimal"><li>The function imported can be any random function within the package.</li>
</ol></li>
<li>Always use <code>package::function</code> style wherever you need to use the function.</li>
<li>Example: <code>stats</code>.</li>
</ol></li>
<li>When many functions from another package are needed:
<ol style="list-style-type: decimal"><li>In <code>DESCRIPTION</code>, add that package into <code>Imports</code>.</li>
<li>In <code>mmrm-package.R</code>, we use a <code>import</code> to import every function.</li>
<li>Use the functions directly without prefix.</li>
<li>Example: <code>checkmate</code>.</li>
</ol></li>
</ol></div>
<div class="section level3">
<h3 id="comments">Comments<a class="anchor" aria-label="anchor" href="#comments"></a></h3>
<ul><li>Comments should always follow sentence style.</li>
<li>Comments should be as minimal as possible: Generally the code and variable names should be clear enough to not need any comments. Only use them when needed and explain the “Why” and not the “What”.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a></h3>
<ul><li><p>All functions must be documented using <code>roxygen2</code> chunks, including internal functions (see also above).</p></li>
<li>
<p>Exported objects must have a <code>lifecycle</code> badge to clarify the maturity.</p>
<ul><li>Start with <code>"experimental"</code> status and consider upgrading to <code>"stable"</code> once the interface has been stable for several months.</li>
</ul></li>
<li><p>Use <code>Title Style</code> for the title of the documentation.</p></li>
<li><p>Always include a <code>@description</code> part with at least one sentence describing the object.</p></li>
<li>
<p>For the arguments use the following convention:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="sc">@</span>param <span class="fu">formula</span> (<span class="st">`</span><span class="at">formula</span><span class="st">`</span>)\cr the model formula, see details.</span></code></pre></div>
<p>So the type of the argument is in parentheses, followed by line break, followed by lower case half-sentence ending with a full stop.</p>
</li>
<li><p>For references to other help pages use the corresponding markdown syntax, e.g. <code>[function()]</code> to reference other functions.</p></li>
<li><p>Exported objects must be included in the <code>_pkgdown.yml</code> file to be populated on the <code>pkgdown</code> <a href="https://openpharma.github.io/mmrm/main/reference/index.html">website</a>.</p></li>
<li><p>In vignettes, you cannot directly reference help pages but only <code>pkgdown</code> web pages. Note that this includes only exported objects. To make it look similar to the help page references, please here also use <code>function()</code> style.</p></li>
<li><p><code>mmrm_review_methods.Rmd</code> is a large vignette and we precompute this vignette to make the GitHub actions faster. Run the script <code>vignettes/precompile.R</code> to regenerate the precomputed vignette and subsequently update it in GitHub. Before every release we need to run this again. Please note you need to install the package and then compile the vignette because efficiency is better after installation to provide a fair comparison.</p></li>
</ul></div>
</div>
<div class="section level2">
<h2 id="github-conventions">Github conventions<a class="anchor" aria-label="anchor" href="#github-conventions"></a></h2>
<p>When using GitHub to collaborate, the following conventions are needed:</p>
<ol style="list-style-type: decimal"><li>Github issues is for issues, feature requests, bugs. Before creating a issue, please make sure this issue has not been reported yet.
<ul><li>If you are going to work on this issue, please assign yourself.</li>
</ul></li>
<li>Please create a branch in the <code>mmrm</code> repository, instead of creating forks, unless you are not yet a team member.
<ul><li>Branches should be associated with a GitHub issue and linked to an issue id.</li>
<li>The name of a branch should be of the form: <code>&lt;issue_id&gt;_&lt;short_discription&gt;</code>.</li>
</ul></li>
<li>Add changes to the branch and push it to GitHub.
<ul><li>Please use clear commit messages.</li>
<li>Please keep your changes focused on the issue. If there are independent changes, please separate it into another PR linking to another issue.</li>
</ul></li>
<li>Please create a Pull Request when you think your code changes are ready:
<ul><li>Functions are well documented.</li>
<li>Functions have corresponding unit tests.</li>
<li>Changes pass all the GitHub action checks.</li>
<li>The checklist in the corresponding issue is completed.</li>
</ul></li>
<li>Address all the comments you receive.
<ul><li>at least one approval is needed to merge.</li>
</ul></li>
</ol></div>
<div class="section level2">
<h2 id="contribution-tips">Contribution tips<a class="anchor" aria-label="anchor" href="#contribution-tips"></a></h2>
<div class="section level3">
<h3 id="development-environment-set-up">Development environment Set-up<a class="anchor" aria-label="anchor" href="#development-environment-set-up"></a></h3>
<p>The development this <code>mmrm</code> package is based on the latest R version and C++ compilers. The package dependencies are the most recent versions from CRAN. We recommend that your working environment is set up in the same way. Additionally, there are some tools we recommend you to install:</p>
<ol style="list-style-type: decimal"><li>
<a href="https://cran.r-project.org/bin/windows/Rtools/rtools42/rtools.html" class="external-link"><code>RTools</code></a> if you work on a Windows operating system. Alternatively you can use <a href="https://www.docker.com/" class="external-link"><code>docker</code></a> to separate the operating system and the development system.</li>
<li>
<a href="https://www.gitkraken.com/" class="external-link"><code>GitKraken</code></a> is a very useful user interface for git including visualization of git commit graphs, file history, etc.</li>
<li>
<a href="https://openpharma.github.io/mmrm/main/articles/package_structure.html#lintr"><code>lintr</code></a> will allow you to perform static code analysis.</li>
<li>
<a href="https://openpharma.github.io/mmrm/main/articles/package_structure.html#pre-commit-config.yaml"><code>pre-commit</code></a> is a Python module that allows you to identify issues before you commit locally.</li>
</ol></div>
<div class="section level3">
<h3 id="issue-labels">Issue labels<a class="anchor" aria-label="anchor" href="#issue-labels"></a></h3>
<p>The issues are categorized with several labels:</p>
<table class="table"><colgroup><col width="13%"><col width="86%"></colgroup><thead><tr class="header"><th>Label name</th>
<th>Description</th>
</tr></thead><tbody><tr class="odd"><td><code>SPx</code></td>
<td>
<code>SP</code> (story points) indicate complexity, and the larger the subsequent number, the more time consuming the issue is expected to be</td>
</tr><tr class="even"><td><code>priority</code></td>
<td>Issues with this label should be completed with higher priority</td>
</tr><tr class="odd"><td><code>good first issue</code></td>
<td>Good choices for new team members</td>
</tr><tr class="even"><td><code>blocked</code></td>
<td>Blocked by other issues</td>
</tr><tr class="odd"><td><code>bug</code></td>
<td>Something isn’t working</td>
</tr><tr class="even"><td><code>devops</code></td>
<td>Development and Operation</td>
</tr><tr class="odd"><td><code>discussion</code></td>
<td>Discussion needed</td>
</tr><tr class="even"><td><code>documentation</code></td>
<td>Improvement of documentation is needed</td>
</tr><tr class="odd"><td><code>duplicate</code></td>
<td>The issue already exists</td>
</tr><tr class="even"><td><code>enhancement</code></td>
<td>New feature or request</td>
</tr><tr class="odd"><td><code>help wanted</code></td>
<td>Extra attention is needed</td>
</tr><tr class="even"><td><code>invalid</code></td>
<td>This doesn’t seem right</td>
</tr><tr class="odd"><td><code>question</code></td>
<td>Further information needed</td>
</tr></tbody></table><p>Please choose an issue based on your interest, issue complexity, and priority.</p>
</div>
<div class="section level3">
<h3 id="add-new-unit-tests">Add new unit tests<a class="anchor" aria-label="anchor" href="#add-new-unit-tests"></a></h3>
<p>To add a new unit test, you need to first identify the test scope. Does the test fit in the scope of existing tests? If so, please modify the existing test files under <code>tests/testthat/</code> folder or <code>src/</code> folder, depending on whether the code to be tested is R or C++. Otherwise please create a new test file, with a name prefix of “test-”.</p>
<p>In each test case, use the following structure:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">test_that</span><span class="op">(</span><span class="st">"function_name does something as expected"</span>, <span class="op">{</span></span>
<span>  <span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">function_name</span><span class="op">(</span><span class="va">input</span><span class="op">)</span></span>
<span>  <span class="va">expected</span> <span class="op">&lt;-</span> <span class="va">hardcoded_result</span></span>
<span>  <span class="fu">expect_identical</span><span class="op">(</span><span class="va">result</span>, <span class="va">expected</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<p>The purpose of the test should be clearly stated first.</p>
<p>In the test body part, conduct the tests, e.g. use <code>expect_identical</code> to check consistency, <code>expect_error</code> to catch error messages, etc. The test body should not follow the same implementation logic as the package did, otherwise we may miss mistakes in implementation.</p>
</div>
<div class="section level3">
<h3 id="add-integration-tests">Add integration tests<a class="anchor" aria-label="anchor" href="#add-integration-tests"></a></h3>
<p>Integration tests compare the results of SAS and R and assures the quality of our code. To add an integration test, you need to do the following:</p>
<ol style="list-style-type: decimal"><li>Use SAS to run an appropriate mmrm model with <code>proc mixed</code>, using <code>fev_data</code>.</li>
<li>Save the results in <code>.txt</code> format in the <code>design/SAS/</code> folder.</li>
<li>Decide the key outputs that are needed for comparison.</li>
<li>Add a unit test verifying that the R implementation of the same model has the same results (conversion may be needed).</li>
</ol></div>
<div class="section level3">
<h3 id="get-started-with-c">Get started with C++<a class="anchor" aria-label="anchor" href="#get-started-with-c"></a></h3>
<p>If you have no experience with C++, it is totally fine: <code>TMB</code> has provided us with many high-level functionalities that is very similar to <code>R</code>. Here we only list the most important things that you need to go through before you begin C++ programming.</p>
<ol style="list-style-type: decimal"><li>Semicolons. C++ use semicolons to terminate a statement. In R, we can use semicolons or line breaks to do so, but in C++, we need both semicolons and line breaks.</li>
<li>Types. C++ is a strong type programming language and all objects need to be declared with type. Sometimes you can combine the declaration and definition.
<ol style="list-style-type: decimal"><li>
<code>int i = 1;</code> This works, as we declare <code>i</code> as <code>int</code> and define it to be 1.</li>
<li>
<code>i = 1;</code> This fails, because <code>i</code> is not declared yet.</li>
<li>
<code>int i; i = 1;</code> This works, because <code>i</code> is declared and then defined.</li>
<li>
<code>int i = 1, j = 2;</code> This works, because <code>i</code> and <code>j</code> are both <code>int</code>.</li>
</ol></li>
<li>Object scope. In R, objects declared inside control flows will exist outside of that enclosing brackets of the flow, while in C++, objects created within control flows will be terminated.
<ol style="list-style-type: decimal"><li>in R, <code>if (TRUE) { a = '123' }; print(a)</code> is legal.</li>
<li>in C++, <code>if (1) {string a = '123'}; std::stdout &lt;&lt; a &lt;&lt; std::endl;</code> is illegal, because object <code>a</code> is terminated already.</li>
<li>in C++, <code>string a; if (1) {a = '123'}; std::stdout &lt;&lt; a &lt;&lt; std::endl;</code> is legal, <code>a</code> is declared prior to if statement.</li>
</ol></li>
<li>Polymorphism. Unlike in R, where function arguments have no explicitly defined types, in C++ the type of each argument of a function must be pre-specified.
<ol style="list-style-type: decimal"><li>
<code>Template</code> is a special function that works with generic argument type. We could imagine a single function that could work on arguments of arbitrary type, and <code>template</code> functions make this possible through separation of function logic from the argument declaration. In this way we can use <code>template</code> functions and avoid the need to replicate the whole code for each type.</li>
</ol></li>
</ol><p>With these points in mind, you are about ready to go.</p>
</div>
<div class="section level3">
<h3 id="get-started-with-tmb">Get started with TMB<a class="anchor" aria-label="anchor" href="#get-started-with-tmb"></a></h3>
<p>In <code>mmrm</code> we are not including any latent variables and so the Laplace approximation aspect of <code>TMB</code> is not used. We only use the automatic differentiation part of <code>TMB</code>. For detailed documentation of <code>TMB</code>, visit the <a href="https://kaskr.github.io/adcomp/Introduction.html" class="external-link">TMB reference</a>.</p>
<p>One important feature of <code>TMB</code> are the R style matrix/array calculations. This is important because we mainly use this part to conduct our calculations. See <a href="https://kaskr.github.io/adcomp/matrix_arrays_8cpp-example.html" class="external-link">matrix_arrays.cpp</a> for examples.</p>
</div>
<div class="section level3">
<h3 id="add-a-new-covariance-structure">Add a new covariance structure<a class="anchor" aria-label="anchor" href="#add-a-new-covariance-structure"></a></h3>
<p>To add a new covariance structure, you need to do the following:</p>
<ol style="list-style-type: decimal"><li>Understand the covariance structure and add appropriate documentation in <a href="https://openpharma.github.io/mmrm/main/articles/covariance.html">covariance structure</a>. Create a draft pull request to invite discussion from other team members.</li>
<li>Implement the covariance structure on the C++ side and the corresponding R interface.</li>
<li>Add unit tests to make sure the new covariance structure is working as expected.</li>
<li>Add integration tests under <code>design/SAS/</code> folder to make sure SAS and R produce similar results (within tolerance).</li>
</ol></div>
<div class="section level3">
<h3 id="add-additional-data">Add additional data<a class="anchor" aria-label="anchor" href="#add-additional-data"></a></h3>
<p>To add additional data to <code>mmrm</code>, please follow the next steps:</p>
<ol style="list-style-type: decimal"><li>Make sure the data is needed.</li>
<li>Document the data in <code>R/data.R</code>.</li>
<li>Use <code>save</code> to create an <code>rda</code> data <strong>only</strong> containing this dataset. Here the function <code><a href="https://usethis.r-lib.org/reference/use_data.html" class="external-link">usethis::use_data</a></code> can also be helpful.</li>
</ol></div>
</div>
<div class="section level2">
<h2 id="communications-within-team">Communications within team<a class="anchor" aria-label="anchor" href="#communications-within-team"></a></h2>
<p>There are several communication channels, please use appropriate ones.</p>
<div class="section level3">
<h3 id="github">GitHub<a class="anchor" aria-label="anchor" href="#github"></a></h3>
<p>GitHub issues and pull requests are where implementations are discussed and reviewed. Feature requests, bugs, enhancements, technical implementations can be discussed here. When you have ideas that needs to be documented, it is better to have them in GitHub.</p>
</div>
<div class="section level3">
<h3 id="slack">Slack<a class="anchor" aria-label="anchor" href="#slack"></a></h3>
<p>Slack is a messaging tool and we have the <code>mmrm</code> channel under the <code>rinpharma</code> space. You can put anything in the slack channel, e.g., you have completed a issue and are waiting for review, or you have some questions and don’t want to wait until the next stand-up meeting.</p>
<p>To join the slack channel, please make sure you have a slack account, and send the email address to any team member.</p>
</div>
<div class="section level3">
<h3 id="stand-up-meetings">Stand-up meetings<a class="anchor" aria-label="anchor" href="#stand-up-meetings"></a></h3>
<p>We have stand-up meetings currently three times a week. The purpose of stand-up meetings is for team members to discuss the current work progress and raise any issue/questions for team discussion if needed.</p>
<p>You don’t need to join all three meetings.</p>
</div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Daniel Sabanes Bove, Julia Dedic, Doug Kelkhoff, Kevin Kunzmann, Brian Matthew Lang, Liming Li, Christian Stock, Ya Wang, Dan James, Jonathan Sidi, Daniel Leibovitz, Daniel D. Sjoberg, Boehringer Ingelheim Ltd., Gilead Sciences, Inc., F. Hoffmann-La Roche AG, Merck Sharp &amp; Dohme, Inc., AstraZeneca plc.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

